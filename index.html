#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAF_TAREFAS 100

struct tarefas {
    int id
    char titulo[100]
    int concluida;//0=pendente, 1=concluida
};
int main() {
    struct Tarefas tarefas[MAX_TAREFAS];
    int titalTarefas=0;
    int proximoId=1;
    int opcao;

    while (1){
        printf ("\n=== Sistemas de Tarefas ===\n");
        printf("1- Adicionar tarefas\n");
        printf("2- Ver tarfas\n");
        printf("3- Concluir tarefas\n");
        printf("4- Remover tarefas\n");
        printf("5- Sair\n");
        printf("Escolha uma opção: ")
        scanf("%d", &opcao);
        gatchar(); //limpar o buffer

        if (opcao == 1) {
            if (totalTarefas >= MAX_TAREFAS) {
                printf("limite de tarefas atingido!\n");
                continue;
            }
            printf("digite o titulo da tarefa: ");
            fgets(tarefas[totalTarefas].titulo, 100, stdin);
            tarefas[totalTarefas].titulo[strcspn(tarefas[totalTarefas]. titulo "\n")]='\0';// remove newline

            tarefas[totalTarefas].id=proximoId++;
            tarefas[totalTarefas].concluidas=0;
            totalTarefas++;
            printf("tarefas adicionada com sucesso!\n");

        }else if (opcao==2){
            if (totalTarefas==0){
                printf("nenhuma tarefa cadastrada.\n");

            }else{
                for (int i=0; i< totalTarefas; i++){
                    printf("ID: %d | titulo %s | status: %s\n",
                        tarefas[i].id,
                        tarefas[i].titulo,
                        tarefas[i].concluidas? "concluida" : "pedente");

             }
     }

        }else if (opcao == 3) {
            int id;
            printf("digite o ID da tarefa a concluir: ");
            scanf("%d", %id);

            int encontrada = 0;
            for (int i=0; i < totalTarefas; i++){
                if (tarefas[i].id == id){
                    tarefas[i].concluida = 1;
                    printf("Tarefa marcado como concluida.\n");
                    encontrada = 1;
                    break;
                }
            }
            if (!encontrada){
                printf("Tarefa não encontrada.\n");
            }

        }else if (opcao == 4) {
            int id;
            printf("digite o ID da tarefa a remover: ");
            scanf("%d", %id);

            int encontrada = 0 
            for (int i=0; i < totalTarefas: i++){
                if(tarefas[i].id==id) {
                    for(int j=i; j <totalTarefas - 1; j++){
                        tarefas[j]= tarefas [j + 1];
                    }
                    totalTarefas--;
                    printf("Tarefa removida.\n");
                    encontrada= 1;
                    break;
                }
            }
            if (!encontrada){
                printf("tareda não encontrada.\n");
            }

        }else if (opcao== 5){
            printf("encerrando o sistema...\n");
            break;

        }else{
            printf("opção inválida!\n");
        }
    }
return 0;
}
